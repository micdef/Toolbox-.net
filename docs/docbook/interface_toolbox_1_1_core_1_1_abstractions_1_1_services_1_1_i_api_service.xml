<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_interface_toolbox_1_1_core_1_1_abstractions_1_1_services_1_1_i_api_service" xml:lang="en-US">
<title>Toolbox.Core.Abstractions.Services.IApiService Interface Reference</title>
<indexterm><primary>Toolbox.Core.Abstractions.Services.IApiService</primary></indexterm>
<para>

<para>Defines the contract for HTTP API services. </para>
 
</para>
<para>Inheritance diagram for Toolbox.Core.Abstractions.Services.IApiService:    <informalfigure>
        <mediaobject>
            <imageobject>
                <imagedata width="50%" align="center" valign="middle" scalefit="0" fileref="interface_toolbox_1_1_core_1_1_abstractions_1_1_services_1_1_i_api_service.png"></imagedata>
            </imageobject>
        </mediaobject>
    </informalfigure>
</para>
<simplesect>
    <title>Public Member Functions    </title>
        <itemizedlist>
            <listitem><para><link linkend="_class_toolbox_1_1_core_1_1_options_1_1_api_response">ApiResponse</link> <link linkend="_interface_toolbox_1_1_core_1_1_abstractions_1_1_services_1_1_i_api_service_1a8e1e539d9367084d49f092a7fd28f0f7">Send</link> (<link linkend="_class_toolbox_1_1_core_1_1_options_1_1_api_request">ApiRequest</link> request)</para>

<para>Sends an HTTP request synchronously. </para>
</listitem>
            <listitem><para>Task&lt; <link linkend="_class_toolbox_1_1_core_1_1_options_1_1_api_response">ApiResponse</link> &gt; <link linkend="_interface_toolbox_1_1_core_1_1_abstractions_1_1_services_1_1_i_api_service_1a0accf629ae4c199538748481fe5878a2">SendAsync</link> (<link linkend="_class_toolbox_1_1_core_1_1_options_1_1_api_request">ApiRequest</link> request, CancellationToken cancellationToken=default)</para>

<para>Sends an HTTP request asynchronously. </para>
</listitem>
            <listitem><para>T? <link linkend="_interface_toolbox_1_1_core_1_1_abstractions_1_1_services_1_1_i_api_service_1a27ea4b9ea559b9e6c686d53a690f0f5b">Send&lt; T &gt;</link> (<link linkend="_class_toolbox_1_1_core_1_1_options_1_1_api_request">ApiRequest</link> request)</para>

<para>Sends an HTTP request and deserializes the response. </para>
</listitem>
            <listitem><para>Task&lt; T?&gt; <link linkend="_interface_toolbox_1_1_core_1_1_abstractions_1_1_services_1_1_i_api_service_1aa115f05961994226ad5f2ffce5cb974d">SendAsync&lt; T &gt;</link> (<link linkend="_class_toolbox_1_1_core_1_1_options_1_1_api_request">ApiRequest</link> request, CancellationToken cancellationToken=default)</para>

<para>Sends an HTTP request and deserializes the response asynchronously. </para>
</listitem>
        </itemizedlist>
</simplesect>
Public Member Functions inherited from <link linkend="_interface_toolbox_1_1_core_1_1_abstractions_1_1_i_async_disposable_service">Toolbox.Core.Abstractions.IAsyncDisposableService</link>        <itemizedlist>
            <listitem><para>ValueTask <link linkend="_interface_toolbox_1_1_core_1_1_abstractions_1_1_i_async_disposable_service_1a3bcb31cb213a921cbfc4b548b1571abb">DisposeAsync</link> (CancellationToken cancellationToken)</para>

<para>Asynchronously releases resources with cancellation support. </para>
</listitem>
        </itemizedlist>
<simplesect>
    <title>Additional Inherited Members    </title>
Properties inherited from <link linkend="_interface_toolbox_1_1_core_1_1_abstractions_1_1_i_instrumented_service">Toolbox.Core.Abstractions.IInstrumentedService</link>        <itemizedlist>
            <listitem><para>ActivitySource <link linkend="_interface_toolbox_1_1_core_1_1_abstractions_1_1_i_instrumented_service_1a44e9295e7ed5f4fac7beaad46a3599e3">ActivitySource</link><computeroutput> [get]</computeroutput>
</para>

<para>Gets the System.Diagnostics.ActivitySource for distributed tracing. </para>
</listitem>
            <listitem><para>Meter <link linkend="_interface_toolbox_1_1_core_1_1_abstractions_1_1_i_instrumented_service_1a1b5982d055e61a3e027c2d5ee45c69a0">Meter</link><computeroutput> [get]</computeroutput>
</para>

<para>Gets the System.Diagnostics.Metrics.Meter for metrics collection. </para>
</listitem>
        </itemizedlist>
</simplesect>
Properties inherited from <link linkend="_interface_toolbox_1_1_core_1_1_abstractions_1_1_i_disposable_service">Toolbox.Core.Abstractions.IDisposableService</link>        <itemizedlist>
            <listitem><para>string <link linkend="_interface_toolbox_1_1_core_1_1_abstractions_1_1_i_disposable_service_1a639988028cfcc5b5704fdbacb7032b74">ServiceName</link><computeroutput> [get]</computeroutput>
</para>

<para>Gets the unique name identifying this service instance. </para>
</listitem>
            <listitem><para>bool <link linkend="_interface_toolbox_1_1_core_1_1_abstractions_1_1_i_disposable_service_1a7b631cf1b2439a4c95cc6149170bd1b1">IsDisposed</link><computeroutput> [get]</computeroutput>
</para>

<para>Gets a value indicating whether this service has been disposed. </para>
</listitem>
        </itemizedlist>
<section>
<title>Detailed Description</title>

<para>Defines the contract for HTTP API services. </para>



<para>This interface provides methods for making HTTP requests with support for: </para>

<para><itemizedlist>
<listitem>

<para>All HTTP verbs (GET, POST, PUT, DELETE, PATCH, etc.) </para>
</listitem>
<listitem>

<para>Multiple authentication modes (Bearer, Basic, API Key, Certificate) </para>
</listitem>
<listitem>

<para>JSON serialization/deserialization </para>
</listitem>
<listitem>

<para>Custom headers and query parameters </para>
</listitem>
<listitem>

<para>Automatic retry with exponential backoff </para>
</listitem>
</itemizedlist>
</para>

<para><formalpara><title>See also</title>

<para><link linkend="_interface_toolbox_1_1_core_1_1_abstractions_1_1_i_instrumented_service">IInstrumentedService</link>, <link linkend="_interface_toolbox_1_1_core_1_1_abstractions_1_1_i_async_disposable_service">IAsyncDisposableService</link></para>
</formalpara>
</para>
<para>
Definition at line <link linkend="__i_api_service_8cs_source_1l00027">27</link> of file <link linkend="__i_api_service_8cs_source">IApiService.cs</link>.</para>
</section>
<section>
<title>Member Function Documentation</title>
<anchor xml:id="_interface_toolbox_1_1_core_1_1_abstractions_1_1_services_1_1_i_api_service_1a8e1e539d9367084d49f092a7fd28f0f7"/><section>
    <title>Send()</title>
<indexterm><primary>Send</primary><secondary>Toolbox.Core.Abstractions.Services.IApiService</secondary></indexterm>
<indexterm><primary>Toolbox.Core.Abstractions.Services.IApiService</primary><secondary>Send</secondary></indexterm>
<para><computeroutput><link linkend="_class_toolbox_1_1_core_1_1_options_1_1_api_response">ApiResponse</link> Toolbox.Core.Abstractions.Services.IApiService.Send (<link linkend="_class_toolbox_1_1_core_1_1_options_1_1_api_request">ApiRequest</link> request)</computeroutput></para><para>

<para>Sends an HTTP request synchronously. </para>
</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>request</entry><entry>
<para>The request to send.</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>The API response.</para>
</formalpara>

                <formalpara>
                    <title>
Exceptions</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>ArgumentNullException</entry><entry>
<para>Thrown when <emphasis>request</emphasis>  is <computeroutput>null</computeroutput>.</para>
</entry>
                            </row>
                            <row>
<entry>HttpRequestException</entry><entry>
<para>Thrown when the request fails.</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>

<para><literallayout><computeroutput>var&#32;request&#32;=&#32;ApiRequest.Get(<emphasis role="stringliteral">&quot;/users/123&quot;</emphasis>);
var&#32;response&#32;=&#32;apiService.Send(request);

<emphasis role="keywordflow">if</emphasis>&#32;(response.IsSuccess)
{
&#32;&#32;&#32;&#32;var&#32;user&#32;=&#32;response.Deserialize&lt;User&gt;();
}
</computeroutput></literallayout> </para>
<para>
Implemented in <link linkend="_class_toolbox_1_1_core_1_1_services_1_1_api_1_1_http_api_service_1ac500eb0b849bbdc483def95d72074bb0">Toolbox.Core.Services.Api.HttpApiService</link>.</para>
</section>
<anchor xml:id="_interface_toolbox_1_1_core_1_1_abstractions_1_1_services_1_1_i_api_service_1a27ea4b9ea559b9e6c686d53a690f0f5b"/><section>
    <title>Send&lt; T &gt;()</title>
<indexterm><primary>Send&lt; T &gt;</primary><secondary>Toolbox.Core.Abstractions.Services.IApiService</secondary></indexterm>
<indexterm><primary>Toolbox.Core.Abstractions.Services.IApiService</primary><secondary>Send&lt; T &gt;</secondary></indexterm>
<para><computeroutput>T? <link linkend="_interface_toolbox_1_1_core_1_1_abstractions_1_1_services_1_1_i_api_service_1a8e1e539d9367084d49f092a7fd28f0f7">Toolbox.Core.Abstractions.Services.IApiService.Send</link>&lt; T &gt; (<link linkend="_class_toolbox_1_1_core_1_1_options_1_1_api_request">ApiRequest</link> request)</computeroutput></para><para>

<para>Sends an HTTP request and deserializes the response. </para>
</para>

<para>
                <formalpara>
                    <title>
Template Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>T</entry><entry>
<para>The response body type.</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>request</entry><entry>
<para>The request to send.</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>The deserialized response body.</para>
</formalpara>

                <formalpara>
                    <title>
Exceptions</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>ArgumentNullException</entry><entry>
<para>Thrown when <emphasis>request</emphasis>  is <computeroutput>null</computeroutput>.</para>
</entry>
                            </row>
                            <row>
<entry>HttpRequestException</entry><entry>
<para>Thrown when the request fails or returns an error status.</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>

<para><literallayout><computeroutput>var&#32;users&#32;=&#32;apiService.Send&lt;List&lt;User&gt;&gt;(ApiRequest.Get(<emphasis role="stringliteral">&quot;/users&quot;</emphasis>));
</computeroutput></literallayout> </para>
<para>
Implemented in <link linkend="_class_toolbox_1_1_core_1_1_services_1_1_api_1_1_http_api_service_1a12ae6cb6399a2ce3c8552aec716bace4">Toolbox.Core.Services.Api.HttpApiService</link>.</para>
</section>
<anchor xml:id="_interface_toolbox_1_1_core_1_1_abstractions_1_1_services_1_1_i_api_service_1a0accf629ae4c199538748481fe5878a2"/><section>
    <title>SendAsync()</title>
<indexterm><primary>SendAsync</primary><secondary>Toolbox.Core.Abstractions.Services.IApiService</secondary></indexterm>
<indexterm><primary>Toolbox.Core.Abstractions.Services.IApiService</primary><secondary>SendAsync</secondary></indexterm>
<para><computeroutput>Task&lt; <link linkend="_class_toolbox_1_1_core_1_1_options_1_1_api_response">ApiResponse</link> &gt; Toolbox.Core.Abstractions.Services.IApiService.SendAsync (<link linkend="_class_toolbox_1_1_core_1_1_options_1_1_api_request">ApiRequest</link> request, CancellationToken cancellationToken = <computeroutput>default</computeroutput>
)</computeroutput></para><para>

<para>Sends an HTTP request asynchronously. </para>
</para>

<para>
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>request</entry><entry>
<para>The request to send.</para>
</entry>
                            </row>
                            <row>
<entry>cancellationToken</entry><entry>
<para>A token to cancel the operation.</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>A task containing the API response.</para>
</formalpara>

                <formalpara>
                    <title>
Exceptions</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>ArgumentNullException</entry><entry>
<para>Thrown when <emphasis>request</emphasis>  is <computeroutput>null</computeroutput>.</para>
</entry>
                            </row>
                            <row>
<entry>HttpRequestException</entry><entry>
<para>Thrown when the request fails.</para>
</entry>
                            </row>
                            <row>
<entry>OperationCanceledException</entry><entry>
<para>Thrown when the operation is cancelled.</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>

<para><literallayout><computeroutput>var&#32;request&#32;=&#32;ApiRequest.Post(<emphasis role="stringliteral">&quot;/users&quot;</emphasis>,&#32;<emphasis role="keyword">new</emphasis>&#32;{&#32;Name&#32;=&#32;<emphasis role="stringliteral">&quot;John&quot;</emphasis>&#32;});
var&#32;response&#32;=&#32;await&#32;apiService.SendAsync(request);

response.EnsureSuccess();
var&#32;createdUser&#32;=&#32;response.Deserialize&lt;User&gt;();
</computeroutput></literallayout> </para>
<para>
Implemented in <link linkend="_class_toolbox_1_1_core_1_1_services_1_1_api_1_1_http_api_service_1aaed64c4d21394332ab877cec4b5a3c8f">Toolbox.Core.Services.Api.HttpApiService</link>.</para>
</section>
<anchor xml:id="_interface_toolbox_1_1_core_1_1_abstractions_1_1_services_1_1_i_api_service_1aa115f05961994226ad5f2ffce5cb974d"/><section>
    <title>SendAsync&lt; T &gt;()</title>
<indexterm><primary>SendAsync&lt; T &gt;</primary><secondary>Toolbox.Core.Abstractions.Services.IApiService</secondary></indexterm>
<indexterm><primary>Toolbox.Core.Abstractions.Services.IApiService</primary><secondary>SendAsync&lt; T &gt;</secondary></indexterm>
<para><computeroutput>Task&lt; T?&gt; <link linkend="_interface_toolbox_1_1_core_1_1_abstractions_1_1_services_1_1_i_api_service_1a0accf629ae4c199538748481fe5878a2">Toolbox.Core.Abstractions.Services.IApiService.SendAsync</link>&lt; T &gt; (<link linkend="_class_toolbox_1_1_core_1_1_options_1_1_api_request">ApiRequest</link> request, CancellationToken cancellationToken = <computeroutput>default</computeroutput>
)</computeroutput></para><para>

<para>Sends an HTTP request and deserializes the response asynchronously. </para>
</para>

<para>
                <formalpara>
                    <title>
Template Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>T</entry><entry>
<para>The response body type.</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                
                <formalpara>
                    <title>
Parameters</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>request</entry><entry>
<para>The request to send.</para>
</entry>
                            </row>
                            <row>
<entry>cancellationToken</entry><entry>
<para>A token to cancel the operation.</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                <formalpara><title>Returns</title>

<para>A task containing the deserialized response body.</para>
</formalpara>

                <formalpara>
                    <title>
Exceptions</title>
                    <para>
                    <table frame="all">
                        <tgroup cols="2" align="left" colsep="1" rowsep="1">
                        <colspec colwidth="1*"/>
                        <colspec colwidth="4*"/>
                        <tbody>
                            <row>
<entry>ArgumentNullException</entry><entry>
<para>Thrown when <emphasis>request</emphasis>  is <computeroutput>null</computeroutput>.</para>
</entry>
                            </row>
                            <row>
<entry>HttpRequestException</entry><entry>
<para>Thrown when the request fails or returns an error status.</para>
</entry>
                            </row>
                            <row>
<entry>OperationCanceledException</entry><entry>
<para>Thrown when the operation is cancelled.</para>
</entry>
                            </row>
                        </tbody>
                        </tgroup>
                    </table>
                    </para>
                </formalpara>
                </para>

<para><literallayout><computeroutput>var&#32;user&#32;=&#32;await&#32;apiService.SendAsync&lt;User&gt;(
&#32;&#32;&#32;&#32;ApiRequest.Get(<emphasis role="stringliteral">&quot;/users/123&quot;</emphasis>),
&#32;&#32;&#32;&#32;cancellationToken);
</computeroutput></literallayout> </para>
<para>
Implemented in <link linkend="_class_toolbox_1_1_core_1_1_services_1_1_api_1_1_http_api_service_1a44f935aae5324b5f2d40dc6f786eda13">Toolbox.Core.Services.Api.HttpApiService</link>.</para>
</section>
<para>
The documentation for this interface was generated from the following file:</para>
C:/Users/micde/RiderProjects/Toolbox/src/Toolbox.Core/Abstractions/Services/<link linkend="__i_api_service_8cs">IApiService.cs</link></section>
</section>
